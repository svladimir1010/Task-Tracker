{% extends "base.html" %}

{% block title %}Edit Task{% endblock %}

{% block content %}
<div class="row justify-content-center py-4 ">
	<div class="col-12 col-md-8 col-lg-6 ">
		<div class="card border-0 shadow-sm rounded-3 overflow-hidden bg-body-secondary">
			<div class="card-body p-4 p-md-5">
				<h3 class=" text-center fw-normal mb-4">Edit Task</h3>
				{% with messages = get_flashed_messages(with_categories=true) %}
				{% if messages %}
				{% for category, message in messages %}
				<div class="alert alert-{{ category }} mb-4">
					{{ message }}
				</div>
				{% endfor %}
				{% endif %}
				{% endwith %}

				<form method="POST" id="task-form" autocomplete="off">
					{{ form.hidden_tag() }}

					<!-- Title -->
					<div class="mb-4">
						<label for="title" class="form-label fw-medium mb-2">
							<i class="bi bi-card-heading me-1"></i> Title
						</label>
						{{ form.title(class="form-control form-control-lg py-2 py-md-3", id="title", placeholder="Enter
						task title", required=True) }}
						{% if form.title.errors %}
						<div class="text-danger small mt-1">
							{% for error in form.title.errors %}
							<i class="bi bi-exclamation-circle me-1"></i>{{ error }}
							{% endfor %}
						</div>
						{% endif %}
					</div>

					<!-- Description -->
					<div class="mb-4">
						<label for="description" class="form-label fw-medium mb-2 ">
							<i class="bi bi-text-paragraph me-1"></i> Description
						</label>
						{{ form.description(class="form-control form-control-lg py-2 py-md-3", id="description",
						placeholder="Enter task description", rows="2") }}
						{% if form.description.errors %}
						<div class="text-danger small mt-1">
							{% for error in form.description.errors %}
							<i class="bi bi-exclamation-circle me-1"></i>{{ error }}
							{% endfor %}
						</div>
						{% endif %}
					</div>

					<!-- Status -->
					<div class="mb-4">
						<label for="status" class="form-label fw-medium mb-2 ">
							<i class="bi bi-list-check me-1"></i> Status
						</label>
						{{ form.status(class="form-select form-select-lg py-2 py-md-3", id="status", required=True) }}
						{% if form.status.errors %}
						<div class="text-danger small mt-1">
							{% for error in form.status.errors %}
							<i class="bi bi-exclamation-circle me-1"></i>{{ error }}
							{% endfor %}
						</div>
						{% endif %}
					</div>

					<!-- Category -->
					<div class="mb-4">
						<label for="category" class="form-label fw-medium mb-2 ">
							<i class="bi bi-tag me-1"></i> Category
						</label>
						{{ form.category(class="form-control form-control-lg py-2 py-md-3", id="category",
						placeholder="Enter task category", required=True) }}
						{% if form.category.errors %}
						<div class="text-danger small mt-1">
							{% for error in form.category.errors %}
							<i class="bi bi-exclamation-circle me-1"></i>{{ error }}
							{% endfor %}
						</div>
						{% endif %}
					</div>

					<!-- Submit -->
					<div class="d-grid mb-4">
						{{ form.submit(class="btn btn-primary btn-lg fw-bold py-3") }}
					</div>

					<!-- Back to task list -->
					<div class="text-center pt-3 border-top">
						<a href="{{ url_for('main.index') }}"
						   class="btn btn-link text-decoration-none px-0 d-inline d-md-inline-flex align-items-center">
							<i class="bi bi-arrow-left me-1"></i>
							<span class="d-none d-md-inline">Back to Tasks</span>
						</a>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
{% endblock %}
